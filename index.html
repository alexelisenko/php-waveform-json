<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>PHP MP3 JSON Waveform Generator by alexkirs</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>PHP MP3 JSON Waveform Generator</h1>
        <p>PHP MP3 JSON Waveform Generator</p>

        <p class="view"><a href="https://github.com/alexkirs/php-waveform-json">View the Project on GitHub <small>alexkirs/php-waveform-json</small></a></p>


        <ul>
          <li><a href="https://github.com/alexkirs/php-waveform-json/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/alexkirs/php-waveform-json/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/alexkirs/php-waveform-json">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a class="anchor" href="#welcome-to-github-pages"><span class="octicon octicon-link"></span></a>PHP MP3 WAV JSON WAVEFORM.</h3>

<p>Usage example:</p>

<pre><code>php php-waveform-json.php test.mp3 > test1.json</code></pre>

<p id="examples"></p>

<div class="waveform" id="test1"></div>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/alexkirs">alexkirs</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="waveform.js"></script>
		<script>
			function render_waveform(container_id, samples)
			{
				// create waveform object
				var test = new Waveform({container: document.getElementById(container_id)});

				//create a gradient
				var ctx = test.context;
				var gradient = ctx.createLinearGradient(0, 0, 0, test.height);
				gradient.addColorStop(0.0, "#f60");
				gradient.addColorStop(1.0, "#ff1b00");
				test.innerColor = gradient;

				// draw the waveform
				test.update({data: samples});
			}

			function load_example(name)
			{
				$('#examples').append($('<h2>' + name + '.json</h2>'));	
				$('#examples').append($('<div class="waveform" id="' + name + '_left">left channel</div>'));

				$.getJSON(name + '.json', function(samples)
				{
					render_waveform(name + '_left' , samples.left);
				});
			}

			$(function(){
				load_example('test');
			});
		</script>
		<style type="text/css">
			.waveform
			{
				width: 100%;
				height: 300px;
				display: inline-block;
			}

			.seperator
			{
				border-bottom: 1px dashed silver;
				padding-top: 24px;
			}

			.seperator:last-child
			{
				border: 0;
			}
		</style>
    
  </body>
</html>